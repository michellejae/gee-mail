<html>
	<head>
		<script src="js/mail-generator.js"></script>
		<link href="css/style.css" rel="stylesheet" media="screen">
    <script>
      window.onload = function(){
      console.log(geemails)


       		document.getElementById("main").innerHTML = "Inbox" + " (" + (geemails.length) + ")";
			

       for (var i =0; i<geemails.length; i++) {
          //console.log(geemails[i]); (just prints out all of geemails to console)

          var inBox = document.createElement("p");
          inBox.className = 'inbox';
          main.appendChild(inBox);

          var senderBox = document.createElement("p");
          senderBox.className = 'sender';
          senderBox.innerHTML = "sender: " + geemails[i].sender;
          inBox.appendChild(senderBox);

          var subjBox = document.createElement("p");
          subjBox.className = "subj";
          subjBox.innerHTML = "subject: " + geemails[i].subject;
          inBox.appendChild(subjBox);

          var dateBox = document.createElement("p");
          dateBox.className = 'date';
          dateBox.innerHTML = "date: " + geemails[i].date;
          inBox.appendChild(dateBox);

          var bodyBox = document.createElement("p");
          bodyBox.className = "body";
          bodyBox.innerHTML = geemails[i].body;
          bodyBox.style.display = "none";
          subjBox.appendChild(bodyBox);

          }

          var subjElem = document.getElementsByClassName("subj");

          for (var i = 0; i<subjElem.length; i++){
            subjElem[i].addEventListener("click", showBody);
          }

          function showBody (){
            var displayBody = this.querySelectorAll(".body")[0];
            if(displayBody.style.display === "none") {
              displayBody.style.display = "inline";
          } else {
            displayBody.style.display = "none";
          }
          }

          

//         And your event listener is also good. The reason why the click functionality isn't working is because you'll need to append the body message under the subject parent.
// querySelectorAll returns all children classes in the CSS. So the click functionality is attached to the parent and the child will show the effect of the event.

// See if you can debug this and make the event work.




       // ALL OF YOUR JAVASCRIPT CODE SHOULD GO HERE. 
        // We have to use window.onload so your JavaScript doesn't execute until the page has loaded and all HTML has been downloaded to your browser
        
      };
    </script>
	</head>
	<h1> G-Easy Mail </h1>
	<body>
		
		<div class="container" id="main">
			Build Me!

  
		</div>
	</body>
</html>